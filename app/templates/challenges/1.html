{% extends 'base.html' %}

{% block title %}Challenge 1 - HTML Comment Flag{% endblock %}

{% block content %}
<div class="card">
    <div class="card-header">
        <h2>Challenge 1: HTML Comment Flag</h2>
        <span class="badge badge-info">Web</span>
    </div>
    <div class="card-body">
        <p>Welcome to your first challenge! This one is simple but teaches an important lesson: always check the source code of websites when doing security assessments.</p>
        
        <p>Your goal is to find the hidden flag on this page. Remember, not everything visible in a browser is what you see rendered on screen.</p>
        
        <div class="hint-container mb-4">
            <button class="btn btn-secondary hint-btn" data-challenge-id="1">Show Hint</button>
            <div id="hint-1" class="mt-2 d-none"></div>
        </div>
        
        <!-- FLAG: HiddenHTMLCommentFlag -->
        
        <h4>Flag Submission</h4>
        <form id="flag-form" data-challenge-id="1">
            <div class="form-group">
                <label for="flag-input">Enter the flag:</label>
                <input type="text" id="flag-input" name="flag" class="form-control" placeholder="Format: Flag text with no spaces" {{ 'disabled' if completed }}>
            </div>
            <button type="submit" id="submit-flag" class="btn btn-primary" {{ 'disabled' if completed }}>
                {{ 'Completed' if completed else 'Submit Flag' }}
            </button>
            <p class="mt-2">Attempts: <span id="attempts-count">{{ attempts }}</span></p>
        </form>
        
        <div id="flag-result" class="mt-3">
            {% if completed %}
            <div class="alert alert-success">Challenge completed!</div>
            <a href="{{ url_for('challenges.view', challenge_id=2) }}" class="btn btn-primary mt-2">Next Challenge</a>
            {% endif %}
        </div>
    </div>
</div>
{% endblock %}